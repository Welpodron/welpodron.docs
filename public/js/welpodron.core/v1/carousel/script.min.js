!function(a){a.welpodron&&a.welpodron.animation&&(a.welpodron.carousel=function(t={}){this.dom=t.dom,this.swipeThreshold=45,this.items=[...this.dom.querySelectorAll("[data-carousel-item]")];for(let t=0;t<this.items.length;t++)if(null!==this.items[t].getAttribute("data-active")){this.currentItem=this.items[t];break}this.currentItem||(this.currentItem=this.items[0]),this.items.forEach(t=>{var e=document.querySelector(`[data-item-id="${t.id}"]`);this.currentItem===t?(e&&e.setAttribute("data-active",""),t.setAttribute("data-active","")):(e&&e.removeAttribute("data-active"),t.removeAttribute("data-active"))}),this.handleTouchEnd=t=>{this.dom.removeEventListener("touchmove",this.handleTouchMove),this.dom.removeEventListener("touchend",this.handleTouchEnd);var e=Math.abs(this.touchDeltaX);e>this.swipeThreshold&&(this.slide&&this.slide(e/this.touchDeltaX<0?"next":"prev"),this.touchDeltaX=0)},this.handleTouchMove=t=>{this.touchDeltaX=t.touches&&1<t.touches.length?0:t.touches[0].clientX-this.touchStartX},this.handleTouchStart=t=>{this.touchStartX=t.touches[0].clientX,this.dom.removeEventListener("touchend",this.handleTouchEnd),this.dom.addEventListener("touchend",this.handleTouchEnd),this.dom.removeEventListener("touchmove",this.handleTouchMove),this.dom.addEventListener("touchmove",this.handleTouchMove)},this.dom.removeEventListener("touchstart",this.handleTouchStart),this.dom.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),this.controls=document.querySelectorAll(`[data-action][data-carousel-id="${this.dom.id}"]`),this.handleClick=t=>{t.preventDefault();var t=t.currentTarget,e=t.getAttribute("data-action");null!==e&&this[e]&&(t=t.getAttribute("data-args"),this[e](t))},this.controls.forEach(t=>{t.removeEventListener("click",this.handleClick),t.addEventListener("click",this.handleClick)})},a.welpodron.carousel.prototype.getNextItem=function(t){var e=this.items.indexOf(this.currentItem);return"next"===t?this.items[(e+1)%this.items.length]:"prev"===t?this.items[(e+this.items.length-1)%this.items.length]:(e=parseInt(t),isNaN(e)?void 0:this.items[e])},a.welpodron.carousel.prototype.getNextDirection=function(t){var e=this.items.indexOf(this.currentItem),t=this.items.indexOf(t),i=this.items.length-1;return(t!==i||0!==e)&&(0===t&&e===i||e<t)?"left":"right"},a.welpodron.carousel.prototype.slide=function(t){if(!this.translating){const i=this.getNextItem(t);if(i&&i!==this.currentItem){const s=this.getNextDirection(i),r=(this.translating=!0,document.querySelector(`[data-item-id="${this.currentItem.id}"]`)),o=document.querySelector(`[data-item-id="${i.id}"]`);var t=new a.welpodron.animation({duration:700,from:{x:0},to:{x:100},step:t=>{this.currentItem.style.transform=`translateX(${"left"===s?"-":""}${t.props.x}%)`},easing:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,after:()=>{this.currentItem.removeAttribute("data-active"),r&&r.removeAttribute("data-active"),this.currentItem.style.transform=""}}),e=new a.welpodron.animation({duration:700,from:{x:100},to:{x:0},before:()=>{i.style.transform=`translateX(${"left"===s?"-":""}100%)`,i.style.display="block"},step:t=>{i.style.transform=`translateX(${"left"===s?"":"-"}${t.props.x}%)`},easing:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,after:()=>{i.setAttribute("data-active",""),o&&o.setAttribute("data-active",""),i.style.display="",i.style.transform=""}});Promise.all([t.finished,e.finished]).then(()=>{this.currentItem=i,this.translating=!1}),t.start(),e.start()}}},a.welpodron.carouselList=[],document.querySelectorAll("[data-carousel]").forEach(t=>{a.welpodron.carouselList.push(new a.welpodron.carousel({dom:t}))}))}(window);
//# sourceMappingURL=script.min.js.map