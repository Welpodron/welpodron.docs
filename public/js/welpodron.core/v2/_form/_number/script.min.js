"use strict";(e=>{if(e.welpodron||(e.welpodron={}),e.welpodron.form||(e.welpodron.form={}),!e.welpodron.form["input-number"]){var t="data-w-input-number";const i=t+"-id",n=t+"-input",l=t+"-control";l;const s=t+"-action";s,s,s;e.welpodron.form["input-number"]=class{supportedActions=["change","set"];element;constructor({element:e}){this.element=e,document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("input",this.handleDocumentInput),document.addEventListener("click",this.handleDocumentClick),document.addEventListener("input",this.handleDocumentInput)}handleDocumentInput=t=>{if(document.contains(this.element)){let e=t["target"];(e=e&&e.closest(`[${i}="${this.element.getAttribute(i)}"][${n}]`))&&e instanceof HTMLInputElement&&t.isTrusted&&(t.preventDefault(),t=parseInt(e.value),isNaN(t)&&(e.value="0"),t=parseInt(e.value),e.min&&t<parseInt(e.min)&&(e.value=e.min),t=parseInt(e.value),e.max&&t>parseInt(e.max)&&(e.value=e.max),t=parseInt(e.value),isNaN(t)&&(e.value=""),t=new Event("input",{bubbles:!0,cancelable:!0}),e.dispatchEvent(t))}else document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("input",this.handleDocumentInput)};handleDocumentClick=t=>{if(document.contains(this.element)){let e=t["target"];var n,a;if(e)if(e=e.closest(`[${i}="${this.element.getAttribute(i)}"][${l}][${s}]`))return a=e.getAttribute(s),n=e.getAttribute("data-w-input-number-action-args"),e.getAttribute("data-w-input-number-action-flush")||t.preventDefault(),a&&this.supportedActions.includes(a)&&(a=this[a])instanceof Function?a({args:n,event:t}):void 0}else document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("input",this.handleDocumentInput)};change=({args:u})=>{u&&this.element.querySelectorAll(`[${n}][${i}="${this.element.getAttribute(i)}"]`).forEach(e=>{var t=e.value,n=parseInt(e.value),a=parseInt(u);e.value=""+(n+a),n=parseInt(e.value),e.min&&n+a<parseInt(e.min)&&(e.value=e.min),n=parseInt(e.value),e.max&&n+a>parseInt(e.max)&&(e.value=e.max),n=parseInt(e.value),isNaN(n)&&(e.value=""),t!==e.value&&(a=new Event("input",{bubbles:!0,cancelable:!0}),e.dispatchEvent(a))})};set=({args:u,event:e})=>{if(u){let a=!1;e?.target&&(e=(e?.target).closest(`[${i}="${this.element.getAttribute(i)}"][${l}][${s}]`))&&e.hasAttribute("data-w-input-number-action-force")&&(a=!0),this.element.querySelectorAll(`[${n}][${i}="${this.element.getAttribute(i)}"]`).forEach(e=>{var t,n=e.value;parseInt(e.value);e.value=u,a||(t=parseInt(e.value),isNaN(t)&&(e.value="0"),t=parseInt(e.value),e.min&&t<parseInt(e.min)&&(e.value=e.min),t=parseInt(e.value),e.max&&t>parseInt(e.max)&&(e.value=e.max),t=parseInt(e.value),isNaN(t)&&(e.value="")),n!==e.value&&(t=new Event("input",{bubbles:!0,cancelable:!0}),e.dispatchEvent(t))})}}}}})(window);
//# sourceMappingURL=script.min.js.map