"use strict";(t=>{t.welpodron||(t.welpodron={});t.welpodron.animator=class{timer=0;state={completed:!1,props:{},elapsed:0};elapsed=0;initialDuration=0;duration=0;direction="forwards";initialFrom={};initialTo={};from={};to={};isStopped=!1;isStarted=!1;step=()=>{};before=()=>{};after=()=>{};constructor({config:i}){this.duration=i.duration,this.initialDuration=i.duration,this.before=i.before,this.after=i.after,this.step=i.step,Object.keys(i.from).forEach(t=>{null!=i.to[t]&&(this.from[t]=i.from[t],this.to[t]=i.to[t],this.initialFrom[t]=i.from[t],this.initialTo[t]=i.to[t],this.state.props[t]=i.from[t])})}frame=i=>{Object.keys(this.from).forEach(t=>{this.state.props[t]=this.from[t]+(this.to[t]-this.from[t])*i}),this.state.elapsed=this.elapsed,this.step(this.state)};start=()=>{this.isStarted=!0;let s=null,e=i=>{if(!this.isStopped){let t=(i-(s=null===s?i:s))/this.duration;this.elapsed=i-s,(1<=t||this.elapsed>=this.duration)&&(t=1),this.frame((i=t)<.5?2*i*i:1-Math.pow(-2*i+2,2)/2),1<=t?this.stop():this.timer=requestAnimationFrame(e)}};this.before&&this.before(),this.timer=requestAnimationFrame(e)};finish=()=>{this.isStopped=!0,cancelAnimationFrame(this.timer),this.state.completed=!0,this.frame(1)};stop=()=>{this.isStopped=!0,cancelAnimationFrame(this.timer),"forwards"===this.direction?(this.elapsed=this.duration,this.state.elapsed=this.duration):"backwards"===this.direction&&(this.elapsed=0,this.state.elapsed=0),this.state.completed=!0,this.after&&this.after(),console.log({height:this.state.props.height,elapsedState:this.state.elapsed,elapsedInner:this.elapsed})};toggle=()=>{if(this.isStopped=!0,cancelAnimationFrame(this.timer),console.log("toggle"),!this.isStarted)return this.elapsed=0,this.isStopped=!1,this.start();"forwards"===this.direction?(Object.keys(this.from).forEach(t=>{null!=this.to[t]&&(this.from[t]=this.state.props[t],this.to[t]=this.initialFrom[t])}),this.duration=this.state.elapsed,this.direction="backwards"):"backwards"===this.direction&&(Object.keys(this.to).forEach(t=>{null!=this.from[t]&&(this.from[t]=this.state.props[t],this.to[t]=this.initialTo[t])}),this.duration=this.initialDuration-this.state.elapsed,this.direction="forwards"),this.isStopped=!1,this.start()}}})(window);
//# sourceMappingURL=script.min.js.map