"use strict";(()=>{class i{static#SUPPORTED_ACTIONS=["toggle","show","close"];element;outsideControls;insideControls;observer;constructor({element:e}){this.element=e,this.outsideControls=[...document.querySelectorAll(`[data-hider-action][data-hider-id="${this.element.id}"]:not(#${this.element.id} *)`)],this.insideControls=[...this.element.querySelectorAll(`[data-hider-action][data-hider-id="${this.element.id}"]`)],this.observer=new MutationObserver((e,t)=>{e.forEach(async e=>{"data-hider-active"===e.attributeName&&(this.element.hasAttribute("data-hider-active")?((e=this.element.querySelector("[autofocus]"))?e.focus():this.element.querySelectorAll('button:not([disabled]):not(:scope [data-popover] *), [href]:not(:scope [data-popover] *), input:not([type="hidden"]):not([disabled]):not(:scope [data-popover] *), select:not([disabled]):not(:scope [data-popover] *), textarea:not([disabled]):not(:scope [data-popover] *), [tabindex]:not([tabindex="-1"]):not(:scope [data-popover] *)')[0]?.focus(),this.insideControls.forEach(e=>{e.removeEventListener("click",this.#handleControlClick),e.addEventListener("click",this.#handleControlClick)})):this.insideControls.forEach(e=>{e.removeEventListener("click",this.#handleControlClick)}))})}),this.observer.observe(this.element,{attributes:!0}),this.outsideControls.forEach(e=>{e.removeEventListener("click",this.#handleControlClick),e.addEventListener("click",this.#handleControlClick)})}toggle=()=>this.element.hasAttribute("data-hider-active")?this.close():this.show();close=()=>{this.element.removeAttribute("data-hider-active")};show=()=>{this.element.setAttribute("data-hider-active","")};#handleControlClick=e=>{e.preventDefault();var t=e["currentTarget"],o=t.getAttribute("data-hider-action"),t=t.getAttribute("data-hider-action-args");return i.#SUPPORTED_ACTIONS.includes(o)&&(o=this[o])instanceof Function?o({args:t,evt:e}):void 0}}null==window.welpodron&&(window.welpodron={}),window.welpodron.hider=i,document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[data-hider]").forEach(e=>{new i({element:e})})},{once:!0})})();
//# sourceMappingURL=script.min.js.map