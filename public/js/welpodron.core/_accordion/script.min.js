"use strict";(e=>{if(e.welpodron&&e.welpodron.animate&&!e.welpodron.accordion){var t="data-w-accordion";const r=t+"-id";var i=t+"-item";const a=i+"-id",n=i+"-active",l=t+"-control",s=l+"-active",o=t+"-action",h=o+"-args";o;class c{supportedActions=["hide","show"];accordion;element;animation=null;constructor({element:e,accordion:t}){this.element=e,this.accordion=t}show=async({})=>{this.animation&&e.clearTimeout(this.animation.timer),null==this.element.getAttribute(n)&&(this.element.style.height="0px",this.element.setAttribute(n,""),document.querySelectorAll(`[${h}="${this.element.getAttribute(a)}"]`).forEach(e=>{e.setAttribute(s,"")}),this.element.scrollHeight,this.animation=e.welpodron.animate({element:this.element,callback:()=>{this.element.style.height=this.element.scrollHeight+"px"}}),await this.animation?.promise,this.element.style.removeProperty("height"),this.animation=null)};hide=async({})=>{this.animation&&e.clearTimeout(this.animation.timer),null!=this.element.getAttribute(n)&&(this.element.style.height=this.element.scrollHeight+"px",this.element.style.display="block",this.animation=e.welpodron.animate({element:this.element,callback:()=>{this.element.style.height=this.element.scrollHeight+"px",this.element.removeAttribute(n),document.querySelectorAll(`[${h}="${this.element.getAttribute(a)}"]`).forEach(e=>{e.removeAttribute(s)}),this.element.style.height="0px"}}),await this.animation?.promise,this.element.style.removeProperty("display"),this.element.style.removeProperty("height"),this.animation=null)}}class m{supportedActions=["show"];element;constructor({element:e}){this.element=e,document.removeEventListener("click",this.handleDocumentClick),document.addEventListener("click",this.handleDocumentClick)}handleDocumentClick=e=>{let t=e["target"];var i,n;if(t&&(t=t.closest(`[${r}="${this.element.getAttribute(r)}"][${l}][${o}]`)))return n=t.getAttribute(o),i=t.getAttribute(h),t.getAttribute("data-w-accordion-action-flush")||e.preventDefault(),n&&this.supportedActions.includes(n)&&(n=this[n])instanceof Function?n({args:i,event:e}):void 0};show=async({args:t,event:e})=>{if(t){var i=this.element.getAttribute(r);if(i){i=this.element.querySelectorAll(`[${r}="${i}"][${a}]`);if(i){var n=[...i].find(e=>e.getAttribute(a)===t);if(n){var l,s=[];for(l of i){var o=new c({element:l,accordion:this});l===n?s.push(o.show({args:t,event:e})):s.push(o.hide({args:t,event:e}))}await Promise.allSettled(s)}}}}}}e.welpodron.accordion=m}})(window);
//# sourceMappingURL=script.min.js.map